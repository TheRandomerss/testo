name: SSH Server

on:
  workflow_dispatch: # Allows manual triggering of the workflow
  push: # Optional: Trigger on code pushes

jobs:
  ssh-server:
    runs-on: ubuntu-latest # GitHub Actions uses Linux runners for SSH
    steps:
      - name: Set up SSH server
        run: |
          sudo apt-get update
          sudo apt-get install -y openssh-server
          sudo service ssh start
          
          # Set up a password for the 'runner' user
          echo "runner:github" | sudo chpasswd
          
          # Display the IP and port for SSH access
          echo "Server is ready. Use the following command to connect:"
          echo "ssh runner@$(hostname -I | awk '{print $1}') -p 22"
